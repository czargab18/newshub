# Backend e Mídia (como tínhamos antes)
backend:
  name: git-gateway
  repo: "czargab18/newshub"
  branch: news

media_folder: "artigos/uploads"
public_folder: "uploads"

# --- COLEÇÃO ÚNICA BASEADA NO SEU TEMPLATE ---
collections:
  - name: "conteudo"
    label: "Conteúdo"
    folder: "artigos" # Salva tudo na pasta 'artigos'
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: "json"
    format: "json"
    
    # --- CAMPOS QUE CORRESPONDEM AO SEU JSON ---
    fields:
      # --- Bloco de Metadados ---
      - { label: "ID", name: "id", widget: "uuid", hidden: true }
      - { label: "Ano", name: "ano", widget: "datetime", format: "YYYY", date_format: "YYYY", time_format: false, default: "" }
      - { label: "Mês", name: "month", widget: "datetime", format: "MM", date_format: "MM", time_format: false, default: "" }
      - { label: "Data Formatada", name: "date_format", widget: "datetime", format: "DD/MM/YYYY", date_format: "DD/MM/YYYY", time_format: false, default: "" }
      - { label: "Data de Atualização", name: "date_updated", widget: "datetime", default: "" }
      - { label: "Publicado", name: "published", widget: "boolean", default: false }
      - { label: "Destaque", name: "featured", widget: "boolean", default: false }
      - { label: "Rascunho", name: "draft", widget: "boolean", default: true } # Começa como rascunho

      # --- Bloco de Conteúdo Principal ---
      - { label: "Título", name: "title", widget: "string", default: "" }
      - { label: "Subtítulo", name: "subtitle", widget: "string", default: "", optional: true }
      - { label: "Slug (URL)", name: "slug", widget: "string", default: "", optional: true, hint: "Se vazio, será gerado a partir do título." }
      - { label: "Excerto", name: "excerpt", widget: "text", default: "", optional: true }
      - { label: "Sumário", name: "summary", widget: "text", default: "", optional: true }

      # --- Bloco de Autoria ---
      - { label: "Autor Principal", name: "author", widget: "string", default: "", optional: true }
      - { label: "Bio do Autor", name: "author_bio", widget: "text", default: "", optional: true }
      - { label: "Avatar do Autor", name: "author_avatar", widget: "image", default: "", optional: true }
      - label: "Contribuidores"
        name: "contributors"
        widget: "list"
        default: []
        optional: true
        fields:
          - { label: "Nome", name: "name", widget: "string", default: "" }
          - { label: "Função", name: "role", widget: "string", default: "" }
          - { label: "Email", name: "email", widget: "string", default: "" }

      # --- Bloco de Taxonomia (Classificação) ---
      - { label: "Tipo", name: "type", widget: "select", options: ["Notícia", "Evento", "Disciplina"], default: "Notícia" }
      - { label: "Categorias", name: "category", widget: "list", default: [], optional: true }
      - { label: "Sub-categoria", name: "subcategory", widget: "string", default: "", optional: true }
      - { label: "Tags", name: "tags", widget: "list", default: [], optional: true }
      - { label: "Palavras-chave", name: "keywords", widget: "list", default: [], optional: true }
      - { label: "Idioma", name: "language", widget: "string", default: "pt_BR", optional: true }

      # --- Bloco de Mídia Principal ---
      - label: "Miniatura (Thumbnail)"
        name: "thumbnail"
        widget: "object"
        optional: true
        fields:
          - { label: "URL", name: "url", widget: "image", default: "" }
          - { label: "Texto Alternativo", name: "alt", widget: "string", default: "" }
          - { label: "Largura", name: "width", widget: "number", default: 600 }
          - { label: "Altura", name: "height", widget: "number", default: 400 }
          - { label: "Legenda", name: "caption", widget: "string", default: "" }
          
      - label: "Imagem de Capa (Cover)"
        name: "cover_image"
        widget: "object"
        optional: true
        fields:
          - { label: "URL", name: "url", widget: "image", default: "" }
          - { label: "Texto Alternativo", name: "alt", widget: "string", default: "" }
          - { label: "Largura", name: "width", widget: "number", default: 1920 }
          - { label: "Altura", name: "height", widget: "number", default: 1080 }
          - { label: "Legenda", name: "caption", widget: "string", default: "" }
          - { label: "Crédito", name: "credit", widget: "string", default: "" }

      # --- Bloco de Mídia (Listas) ---
      - label: "Galeria de Imagens"
        name: "images"
        widget: "list"
        default: []
        optional: true
        fields:
          - { label: "URL", name: "url", widget: "image", default: "" }
          - { label: "Texto Alternativo", name: "alt", widget: "string", default: "" }
          - { label: "Legenda", name: "caption", widget: "string", default: "" }
          - { label: "Largura", name: "width", widget: "number", default: 1000 }
          - { label: "Altura", name: "height", widget: "number", default: 600 }

      - label: "Vídeos"
        name: "videos"
        widget: "list"
        default: []
        optional: true
        fields:
          - { label: "URL", name: "url", widget: "string", default: "", hint: "Link do YouTube, Vimeo, etc." }
          - { label: "Tipo", name: "type", widget: "string", default: "youtube" }
          - { label: "Título", name: "title", widget: "string", default: "" }
          - { label: "Thumbnail", name: "thumbnail", widget: "image", default: "", optional: true }

      - label: "Anexos"
        name: "attachments"
        widget: "list"
        default: []
        optional: true
        fields:
          - { label: "Nome do Ficheiro", name: "name", widget: "string", default: "" }
          - { label: "URL", name: "url", widget: "file", default: "" }
          - { label: "Tipo", name: "type", widget: "string", default: "application/pdf" }
          - { label: "Tamanho (KB)", name: "size", widget: "number", default: 0 }

      # --- Bloco do Corpo e Campos Customizados ---
      - { label: "Corpo", name: "body", widget: "markdown", default: "" }
      
      - label: "Campos Customizados"
        name: "custom_fields"
        widget: "object"
        optional: true
        fields:
          - { label: "Projeto de Pesquisa", name: "research_project", widget: "string", default: "" }
          - { label: "Fonte de Financiamento", name: "funding_source", widget: "string", default: "" }
          - { label: "Instituição", name: "institution", widget: "string", default: "" }

      # --- Bloco de Referências e Citações ---
      - label: "Referências"
        name: "references"
        widget: "list"
        default: []
        optional: true
        fields:
          - { label: "Título", name: "title", widget: "string", default: "" }
          - { label: "Autores", name: "authors", widget: "list", default: [] }
          - { label: "Ano", name: "year", widget: "string", default: "" }
          - { label: "URL", name: "url", widget: "string", default: "" }
          - { label: "DOI", name: "doi", widget: "string", default: "" }

      - label: "Citações"
        name: "citations"
        widget: "list"
        default: []
        optional: true
        fields:
          - { label: "Texto", name: "text", widget: "text", default: "" }
          - { label: "Autor", name: "author", widget: "string", default: "" }
          - { label: "Fonte", name: "source", widget: "string", default: "" }
          
      - { label: "Artigos Relacionados", name: "related_articles", widget: "list", default: [], optional: true }

      - label: "Séries"
        name: "series"
        widget: "object"
        optional: true
        fields:
          - { label: "Título da Série", name: "title_series", widget: "string", default: "" }
          - { label: "Parte Nº", name: "part", widget: "number", default: 0 }
          - { label: "Total de Partes", name: "total_parts", widget: "number", default: 0 }