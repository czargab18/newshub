
backend:
  name: github
  branch: news
  repo: czargab18/newshub
  base_url: https://newshub-h6z6.onrender.com
  commit_messages:
    create: Create {{collection}} "{{slug}}"
    update: Update {{collection}} "{{slug}}"
    delete: Delete {{collection}} "{{slug}}"
    uploadMedia: Upload "{{path}}"
    deleteMedia: Delete "{{path}}"
    openAuthoring: "{{message}}"

  publish_mode: editorial_workflow
media_folder: "article/uploads"
public_folder: "uploads"
# site_url: https://czargab18.github.io/estatistica/
# display_url: https://czargab18.github.io/estatistica/
locale: "pt-br"
search: true
show_preview_links: true
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "_"

collections:
  - name: "conteudo"
    label: "Publicações"
    label_singular: "Artigo"
    description: "Gerenciamento de artigos, notícias e conteúdos do site"
    folder: "article"
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{day}}_{{hour}}-{{minute}}-{{second}}_{{category}}"
    preview_path: "article/{{slug}}"
    extension: "json"
    format: "json"
    identifier_field: "headline"
    summary: "{{headline}} - {{category}} - {{date_updated}}"
    sortable_fields: ["date_updated", "headline", "category", "commit_date", "commit_author"]

    view_filters:
      - { label: "Graduação", field: public, pattern: "GRADUAÇÃO" }
      - { label: "Pós-Graduação", field: public, pattern: "PÓS-GRADUAÇÃO" }
      - { label: "Comunidade Externa", field: public, pattern: "COMUNIDADE EXTERNA" }

    view_groups:
      - { label: "Ano", field: date_updated, pattern: '\d{4}' }
      - { label: "Categoria", field: category }
      - { label: "Idioma", field: lang }

    editor:
      preview: true

    fields:
      # --- CAMPOS OCULTOS ---
      - { label: "ID", name: "id", widget: "hidden", default: "" }
      - { label: "Formato de Data", name: "date_format", widget: "hidden", default: "" }

      # --- INFORMAÇÕES BÁSICAS ---
      - { label: "Título", name: "headline", widget: "string", required: true, hint: "Título principal do artigo" }
      - { label: "Subtítulo", name: "subhead", widget: "string", required: false, hint: "Subtítulo ou linha de apoio" }
      - {
          label: "Data de Publicação",
          name: "date_updated",
          widget: "datetime",
          default: "",
          date_format: "DD/MM/YYYY",
          time_format: "HH:mm",
          format: "YYYY-MM-DD HH:mm:ss",
          required: true,
        }

      # --- CATEGORIA E PÚBLICO ---
      - label: "Categoria"
        name: "category"
        widget: "select"
        required: true
        hint: "Categoria principal do artigo"
        options:
          - { label: "LEITURA RAPIDA", value: "QUICK READ" }
          - { label: "COMUNICADO", value: "EST STATEMENT" }
          - { label: "FOTOS", value: "PHOTOS" }
          - { label: "LANÇAMENTO", value: "RELEASE" }
          - { label: "ATUALIZACAO", value: "UPDATE" }

      - label: "Público-Alvo"
        name: "public"
        widget: "select"
        multiple: true
        required: false
        hint: "Selecione o(s) público(s) alvo"
        options:
          - { label: "Graduação", value: "GRADUAÇÃO" }
          - { label: "Pós-Graduação", value: "PÓS-GRADUAÇÃO" }
          - { label: "Comunidade Externa", value: "COMUNIDADE EXTERNA" }

      # --- CONTEÚDO ---
      - {
          label: "Resumo",
          name: "summary",
          widget: "text",
          required: false,
          hint: "Breve resumo do artigo (1-2 parágrafos)",
        }
      - {
          label: "Descrição (SEO)",
          name: "description",
          widget: "text",
          required: false,
          hint: "Descrição para motores de busca (150-160 caracteres)",
        }
      - {
          label: "Corpo do Artigo",
          name: "body",
          widget: "markdown",
          required: true,
          hint: "Conteúdo principal do artigo (suporta Markdown e imagens)",
        }

      # --- METADADOS ---
      - {
          label: "Tags",
          name: "tags",
          widget: "list",
          required: false,
          hint: "Tags para organizar e pesquisar artigos",
          field: { label: "Tag", name: "tag", widget: "string" },
        }
      - {
          label: "Palavras-chave (SEO)",
          name: "keywords",
          widget: "list",
          required: false,
          hint: "Palavras-chave para otimização de busca",
          field: { label: "Palavra-chave", name: "keyword", widget: "string" },
        }
      - {
          label: "Idioma",
          name: "lang",
          widget: "select",
          required: false,
          default: "portugues",
          options:
            [
              { label: "Português", value: "portugues" },
              { label: "Inglês", value: "ingles" },
              { label: "Espanhol", value: "espanhol" },
            ],
        }
      - {
          label: "Link Canônico",
          name: "link_canonical",
          widget: "string",
          required: false,
          hint: "URL canônica do artigo (se republicado de outra fonte)",
        }

      # --- IMAGEM DE CAPA ---
      - label: "Miniatura"
        name: "thumbnail"
        widget: "object"
        required: false
        hint: "Imagem de listagem (gerada automaticamente ou customizada)"
        fields:
          - { label: "URL da Imagem", name: "url", widget: "image", required: false }
          - { label: "Texto Alternativo", name: "alt", widget: "string", required: false }
          - { label: "Legenda", name: "caption", widget: "string", required: false }

      # --- REFERÊNCIAS E ARTIGOS RELACIONADOS ---
      - {
          label: "Referências",
          name: "references",
          widget: "list",
          required: false,
          hint: "Links de artigos ou fontes de referência",
          field: { label: "Link de Referência", name: "reference", widget: "string" },
        }
      - {
          label: "Artigos Relacionados",
          name: "related_articles",
          widget: "list",
          required: false,
          hint: "IDs ou slugs de artigos relacionados",
          field: { label: "ID do Artigo", name: "article_id", widget: "string" },
        }
