local_backend: true

backend:
  name: github
  branch: news
  repo: czargab18/newshub
  commit_messages:
    create: create {{collection}} "{{slug}}"
    update: update {{collection}} "{{slug}}"
    delete: delete {{collection}} "{{slug}}"
    uploadMedia: upload "{{path}}"
    deleteMedia: delete "{{path}}"
    openAuthoring: "{{message}}"

publish_mode: editorial_workflow
show_preview_links: true

media_folder: "artigos/uploads"
public_folder: "uploads"
auto_save: true
locale: "pt-br"

collections:
  - label: "noticias"
    name: "Noticias"
    folder: "article/news"
    editor:
      visualEditing: true
    create: true
    format: "json"
    extension: "json"
    slug: "{{year}}-{{month}}-{{day}}"
    fields:
      - { label: "ID", name: "id", widget: "hidden", default: "0000-9999" }
      - { label: "Categoria", name: "category", widget: "hidden", default: "PRESS RELEASE" }
      - { label: "Data de Atualização", name: "date_updated", widget: "datetime", default: "{{now}}" }


      - { label: "Título", name: "headline", widget: "string" }
      - { label: "Subtítulo", name: "sub_headline", widget: "string", required: false }
      
      # Hero Image
      - label: "Imagem Principal"
        name: "hero_image"
        widget: "object"
        collapsed: true
        required: false
        fields:
          - { label: "Arquivo", name: "arquivo", widget: "image", required: false }
          - { label: "Alt", name: "alt", widget: "string", required: false }
          - { label: "Caption", name: "caption", widget: "string", required: false }

      # Conteúdo da Página (Markdown)
      - { label: "Body", name: "body", widget: "markdown", hint: "Main content goes here." }
