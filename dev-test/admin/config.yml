local_backend: true

backend:
  name: github
  branch: news
  repo: czargab18/newshub
  commit_messages:
    create: Create {{collection}} "{{slug}}"
    update: Update {{collection}} "{{slug}}"
    delete: Delete {{collection}} "{{slug}}"
    uploadMedia: Upload "{{path}}"
    deleteMedia: Delete "{{path}}"
    openAuthoring: "{{message}}"

publish_mode: editorial_workflow

media_folder: "article/uploads"
public_folder: "uploads"

# site_url: https://czargab18.github.io/estatistica/
# display_url: https://czargab18.github.io/estatistica/
locale: "pt-br"
search: true
show_preview_links: true
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "_"

collections:
  #>> COLEÇÃO: SENTINDO RIBBON
  - name: "sentindo_ribbon"
    label: "Faixa de aviso"
    label_singular: "Faixa de aviso"
    description: "Mensagen de aviso importante, exibida como faixa/fita abaixo da globalnavbar"
    folder: "article/ribbon"
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{day}}_{{hour}}-{{minute}}-{{second}}"
    preview_path: "ribbon/{{slug}}"
    extension: "json"
    format: "json"
    identifier_field: "titulo"
    summary: "{{titulo}} - {{tipo}} - {{date_updated}}"
    sortable_fields: ["date_updated", "titulo", "tipo", "prioridade", "commit_date"]

    view_filters:
      - { label: "Ativo", field: ativo, pattern: true }
      - { label: "Inativo", field: ativo, pattern: false }
      - { label: "Alta Prioridade", field: prioridade, pattern: "alta" }

    view_groups:
      - { label: "Tipo", field: tipo }
      - { label: "Prioridade", field: prioridade }
      - { label: "Status", field: ativo }

    editor:
      preview: true

    fields:
      - { label: "ID", name: "id", widget: "hidden", default: "" }
      - {
          label: "Data de Criação",
          name: "date_updated",
          widget: "datetime",
          default: "",
          date_format: "DD/MM/YYYY",
          time_format: "HH:mm",
          format: "YYYY-MM-DD HH:mm:ss",
          required: true,
        }
      - {
          label: "Título",
          name: "titulo",
          widget: "string",
          default: "",
          required: true,
          hint: "Título do ribbon/banner",
        }
      - {
          label: "Subtítulo",
          name: "subtitulo",
          widget: "string",
          default: "",
          required: false,
          hint: "Texto complementar ou linha fina",
        }
      - {
          label: "Tipo de Ribbon",
          name: "tipo",
          widget: "select",
          default: "destaque",
          options: ["destaque", "alerta", "informacao", "promocao", "evento", "urgente"],
          required: true,
        }
      - {
          label: "Prioridade",
          name: "prioridade",
          widget: "select",
          default: "media",
          options: ["baixa", "media", "alta", "urgente"],
          required: true,
          hint: "Define a ordem de exibição",
        }
      - {
          label: "Ativo",
          name: "ativo",
          widget: "boolean",
          default: true,
          required: true,
          hint: "Marque para exibir o ribbon",
        }
      - {
          label: "Data de Início",
          name: "data_inicio",
          widget: "datetime",
          default: "",
          date_format: "DD/MM/YYYY",
          time_format: "HH:mm",
          format: "YYYY-MM-DD HH:mm:ss",
          required: false,
          hint: "Data de início da exibição",
        }
      - {
          label: "Data de Término",
          name: "data_fim",
          widget: "datetime",
          default: "",
          date_format: "DD/MM/YYYY",
          time_format: "HH:mm",
          format: "YYYY-MM-DD HH:mm:ss",
          required: false,
          hint: "Data de término da exibição",
        }
      - {
          label: "Link de Destino",
          name: "link",
          widget: "string",
          default: "",
          required: false,
          hint: "URL para onde o ribbon deve direcionar",
        }
      - {
          label: "Texto do Botão",
          name: "texto_botao",
          widget: "string",
          default: "Saiba mais",
          required: false,
        }
      - {
          label: "Cor de Fundo",
          name: "cor_fundo",
          widget: "select",
          default: "azul",
          options: ["azul", "verde", "amarelo", "vermelho", "laranja", "roxo", "cinza"],
          required: false,
        }
      - label: "Imagem de Fundo"
        name: "imagem_fundo"
        widget: "object"
        required: false
        collapsed: true
        fields:
          - { label: "URL da Imagem", name: "url", widget: "image", default: "", required: false }
          - { label: "Texto Alternativo", name: "alt", widget: "string", default: "", required: false }
      - {
          label: "Mensagem",
          name: "mensagem",
          widget: "text",
          default: "",
          required: false,
          hint: "Texto curto da mensagem (até 200 caracteres)",
        }
      - {
          label: "Público-Alvo",
          name: "publico",
          widget: "select",
          multiple: true,
          default: [],
          options: ["GRADUAÇÃO", "PÓS-GRADUAÇÃO", "COMUNIDADE EXTERNA", "TODOS"],
          required: false,
        }
