local_backend: true

backend:
  name: github
  branch: news
  repo: czargab18/newshub
  commit_messages:
    create: create {{collection}} "{{slug}}"
    update: update {{collection}} "{{slug}}"
    delete: delete {{collection}} "{{slug}}"
    uploadMedia: upload "{{path}}"
    deleteMedia: delete "{{path}}"
    openAuthoring: "{{message}}"

publish_mode: editorial_workflow

media_folder: "article/uploads"
public_folder: "uploads"

# site_url: https://czargab18.github.io/estatistica/
# display_url: https://czargab18.github.io/estatistica/
locale: "pt-br"
search: true
show_preview_links: true
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "_"

collections:
  - name: "noticias"
    label: "Notícias"
    folder: "content/noticias"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "ID", name: "id", widget: "string", hint: "Identificador único (ex: 0001-2023)" }
      - { label: "Categoria", name: "category", widget: "string", default: "PRESS RELEASE" }
      - { label: "Data de Publicação", name: "data", widget: "datetime" }
      - { label: "Título Principal", name: "headline", widget: "string" }
      - { label: "Subtítulo (Opcional)", name: "sub_headline", widget: "string" }
      
      # --- Bloco Hero (igual ao seu) ---
      - label: "Imagem Principal (Hero)"
        name: "hero_image"
        widget: "list"
        max: 1
        min: 1
        fields:
          - { label: "Nome do Arquivo", name: "name", widget: "string" }
          - { label: "Arquivo", name: "arquivo", widget: "image" }
          - { label: "Texto Alternativo (ALT)", name: "alt", widget: "string" }
          - { label: "Legenda (Opcional)", name: "caption", widget: "string" }
          
      # --- O NOVO CORPO DA PÁGINA ---
      - label: "Conteúdo da Página"
        name: "pagebody"
        widget: "list"
        
        # A mágica está aqui, usando 'types'
        types:
          
          # 1. Bloco de Texto (Markdown)
          - label: "Bloco de Texto"
            name: "texto"
            widget: "object"
            fields:
              - { label: "Texto", name: "conteudo", widget: "markdown" }
              
          # 2. Bloco de Imagem (Sua configuração personalizada)
          - label: "Bloco de Imagem"
            name: "imagem"
            widget: "object"
            fields:
              - { label: "Nome do Arquivo", name: "name", widget: "string" }
              - { label: "Arquivo", name: "arquivo", widget: "image" }
              - { label: "Texto Alternativo (ALT)", name: "alt", widget: "string" }
              - { label: "Legenda (Opcional)", name: "caption", widget: "string" }
              
          # 3. (Opcional) Bloco de Citação
          - label: "Bloco de Citação"
            name: "citacao"
            widget: "object"
            fields:
              - { label: "Texto da Citação", name: "texto", widget: "text" }
              - { label: "Autor da Citação", name: "autor", widget: "string" }