local_backend: true

backend:
  name: github
  branch: news
  repo: czargab18/newshub
  commit_messages:
    create: create {{collection}} "{{slug}}"
    update: update {{collection}} "{{slug}}"
    delete: delete {{collection}} "{{slug}}"
    uploadMedia: upload "{{path}}"
    deleteMedia: delete "{{path}}"
    openAuthoring: "{{message}}"

publish_mode: editorial_workflow

media_folder: "article/uploads"
public_folder: "uploads"

# site_url: https://czargab18.github.io/estatistica/
# display_url: https://czargab18.github.io/estatistica/
locale: "pt-br"
search: true
show_preview_links: true
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "_"

collections:
  #>> COLE√á√ÉO: SENTINDO RIBBON
  - name: "sentindo_ribbon"
    label: "Faixa de aviso"
    label_singular: "Faixa de aviso"
    description: "Mensagen de aviso importante, exibida como faixa/fita abaixo da globalnavbar"
    folder: "article/ribbon"
    create: true
    delete: true
    slug: "{{tipo}}_{{day}}-{{month}}-{{year}}_{{hour}}-{{minute}}-{{second}}"
    preview_path: "ribbon/{{slug}}"
    extension: "json"
    format: "json"
    identifier_field: "mensagem"
    summary: "{{mensagem}} - √öltima atualiza√ß√£o: {{date_updated}}"
    sortable_fields: ["date_updated", "titulo", "tipo", "prioridade", "commit_date"]

    view_filters:
      - { label: "Ativo", field: ativo, pattern: true }
      - { label: "Inativo", field: ativo, pattern: false }
      - { label: "Alta Prioridade", field: prioridade, pattern: "alta" }

    view_groups:
      - { label: "Tipo", field: tipo }
      - { label: "Prioridade", field: prioridade }
      - { label: "Status", field: ativo }

    editor:
      preview: true
      visualEditing: true

    fields:
      - { label: "Tipo", name: "tipo", widget: "hidden", default: "section_ribbon" }
      - { label: "ID", name: "id", widget: "hidden", default: "" }
      - {
          label: "In√≠cio",
          name: "date_start",
          widget: "datetime",
          format: "DD [de] MMMM YYYY HH:mm",
          default: "",
          description: "Data e hora de in√≠cio da exibi√ß√£o (deixe vazio para exibir imediatamente)",
        }
      - {
          label: "T√©rmino",
          name: "date_end",
          widget: "datetime",
          format: "DD [de] MMMM YYYY HH:mm",
          default: "",
          description: "Data e hora de t√©rmino da exibi√ß√£o (deixe vazio para exibir indefinidamente)",
        }
      - { label: "Ativo", name: "ativo", widget: "boolean", default: true, description: "Marque para exibir a faixa" }
      - {
          label: "Mensagem",
          name: "mensagem",
          widget: "text",
          default: "",
          description: "Texto principal exibido na faixa",
          required: true,
        }
      - {
          label: "P√°ginas",
          name: "paginas",
          widget: "list",
          default: [],
          description: "Lista de p√°ginas onde a faixa ser√° exibida (deixe vazia para todas)",
          collapsed: true,
          field: { label: "P√°gina", name: "pagina", widget: "string" },
        }
      - {
          label: "Data de Cria√ß√£o",
          name: "date_updated",
          widget: "datetime",
          format: "DD [de] MMMM YYYY",
          default: "",
          description: "",
          required: true,
        }
  #>> COLE√á√ÉO: NOT√çCIAS - VERS√ÉO TEXTO LIVRE (body √∫nico)
  - name: "noticias_livre"
    label: "üìù Not√≠cias (Texto Livre)"
    label_singular: "Not√≠cia Texto Livre"
    description: "Editor simples - escreva todo o conte√∫do em um √∫nico campo"
    folder: "article/news/freeform"
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{day}}_{{slug}}"
    preview_path: "news/{{slug}}"
    extension: "json"
    format: "json"
    identifier_field: "headline"
    summary: "{{headline}} - {{data}}"
    sortable_fields: ["data", "headline", "category"]

    fields:
      - { label: "ID", name: "id", widget: "string", hint: "Identificador √∫nico (ex: 0001-2023)" }
      
      - { 
          label: "Categoria", 
          name: "category", 
          widget: "select",
          options: ["PRESS RELEASE", "NOT√çCIA", "ARTIGO", "COMUNICADO"],
          default: "PRESS RELEASE"
        }
      
      - { 
          label: "Data de Publica√ß√£o", 
          name: "data", 
          widget: "datetime",
          format: "DD [de] MMMM [de] YYYY",
          date_format: "DD/MM/YYYY",
          time_format: false
        }
      
      - { 
          label: "T√≠tulo Principal", 
          name: "headline", 
          widget: "string",
          hint: "T√≠tulo principal da not√≠cia"
        }
      
      - { 
          label: "Subt√≠tulo", 
          name: "sub_headline", 
          widget: "text",
          required: false,
          hint: "Subt√≠tulo ou linha fina (opcional)"
        }
      
      - label: "Imagem Principal (Hero)"
        name: "hero_image"
        widget: "list"
        max: 1
        min: 0
        summary: "{{fields.alt}}"
        fields:
          - { label: "Nome do Arquivo", name: "name", widget: "string" }
          - { label: "Arquivo", name: "arquivo", widget: "image", allow_multiple: false }
          - { label: "Texto Alternativo (Alt)", name: "alt", widget: "string" }
          - { label: "Legenda", name: "caption", widget: "text", required: false }
      
      - { 
          label: "Conte√∫do Completo", 
          name: "body", 
          widget: "markdown",
          hint: "Escreva todo o conte√∫do da not√≠cia aqui. Suporta Markdown para formata√ß√£o."
        }