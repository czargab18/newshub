local_backend: true

backend:
  name: github
  branch: news
  repo: czargab18/newshub
  commit_messages:
    create: create {{collection}} "{{slug}}"
    update: update {{collection}} "{{slug}}"
    delete: delete {{collection}} "{{slug}}"
    uploadMedia: upload "{{path}}"
    deleteMedia: delete "{{path}}"
    openAuthoring: "{{message}}"

publish_mode: editorial_workflow

media_folder: "article/uploads"
public_folder: "uploads"

# site_url: https://czargab18.github.io/estatistica/
# display_url: https://czargab18.github.io/estatistica/
locale: "pt-br"
search: true
show_preview_links: true
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "_"

collections:
  - name: "noticias"
    label: "Notícias"
    folder: "content/noticias"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "ID", name: "id", widget: "string" }
      - { label: "Categoria", name: "category", widget: "string" }
      - { label: "Data", name: "data", widget: "datetime" }
      - { label: "Título", name: "headline", widget: "string" }
      - { label: "Subtítulo", name: "sub_headline", widget: "string" }
      
      # Hero Image
      - label: "Imagem Principal (Hero)"
        name: "hero_image"
        widget: "list"
        max: 1
        min: 1
        fields:
          - { label: "Nome", name: "name", widget: "string" }
          - { label: "Arquivo", name: "arquivo", widget: "image" }
          - { label: "Alt", name: "alt", widget: "string" }
          - { label: "Caption", name: "caption", widget: "string" }
          
      # Conteúdo Modular
      - label: "Conteúdo da Página"
        name: "pagebody"
        widget: "list"
        types:
          - label: "Bloco de Texto"
            name: "texto"
            widget: "object"
            fields:
              - { label: "Texto", name: "conteudo", widget: "markdown" }
              
          - label: "Bloco de Imagem"
            name: "imagem"
            widget: "object"
            fields:
              - { label: "Nome", name: "name", widget: "string" }
              - { label: "Arquivo", name: "arquivo", widget: "image" }
              - { label: "Alt", name: "alt", widget: "string" }
              - { label: "Caption", name: "caption", widget: "string" }
              
          - label: "Bloco de Citação"
            name: "citacao"
            widget: "object"
            fields:
              - { label: "Texto", name: "texto", widget: "text" }
              - { label: "Autor", name: "autor", widget: "string" }